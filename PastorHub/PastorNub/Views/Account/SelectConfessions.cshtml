@model List<PastorNub.Models.Confession>
@{
    ViewBag.Title = "Вибір конфесій";
}

    <div class="container">
        <div class="jumbotron row mt-5 SelectConfessionsStyle">

            @using (Html.BeginForm("SelectConfessions", "Account", FormMethod.Post, new { @class = "form-horizontal mr-auto ml-auto col-12 text-center", role = "form" }))
            {
                @Html.AntiForgeryToken()
                <h2>@ViewBag.Title.</h2>
                <h4>Виберіть до чотирьох конфесій</h4>
                <p>Ви зможете перемикатися між вибраними конфесіями, <span style="color:red;">але будьте обачні при виборі, в майбутньому змінити вибір буде неможливо</span>. Якщо ви не можете вибрати до чотирьох конфесій, то ви можете вибрати одну або більше, а потім дообрати ще в вашому профілі</p>
                <hr />
                @Html.ValidationSummary("", new { @class = "text-danger" })

                <div id="select">
                    @foreach (var i in Model)
                    {
                        <div>
                            <input type="checkbox" id="check@(i.Id)" name="SConfessions" value="@(i.ConfessionName)" onclick="Select(@(i.Id));" />
                            <label>@(i.ConfessionName)</label>
                        </div>
                    }
                </div>
                <div class="form-group mt-5">
                    <div class="col-md-12">
                        <input type="submit" class="btn col-4 btn-outline-success" value="Підтвердити" onclick="Check()" />
                    </div>
                </div>
            }
        </div>

    </div>


<script>
    var Selected = 0;

    function Select(Id) {
        if ($("#check" + Id).is(':checked')) {
            Selected = Selected + 1;
        }
        else {
            Selected = Selected - 1;
        }
        if (Selected >= 4) {
            var inputs = document.getElementById("select").getElementsByTagName("input");
            for (i = 0; i < inputs.length; i++) {
                if (!$(inputs[i]).is(':checked')) {
                    inputs[i].setAttribute("disabled", "");
                }
            }
        }
        else {
            var inputs = document.getElementById("select").getElementsByTagName("input");
            for (i = 0; i < inputs.length; i++) {
                inputs[i].removeAttribute("disabled", "");
            }
        }
    }

    function Check() {

    }
</script>